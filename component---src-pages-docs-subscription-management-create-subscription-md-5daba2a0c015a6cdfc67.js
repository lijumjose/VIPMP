"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[5859],{17371:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return m},default:function(){return u}});var a=n(87462),r=n(45987),d=(n(35776),n(3905)),l=n(91515);const i=["components"],m={},o={_frontmatter:m},s=l.Z;function u(e){let{components:t}=e,n=(0,r.Z)(e,i);return(0,d.mdx)(s,(0,a.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"create-subscription"},"Create subscription"),(0,d.mdx)("p",null,"Use the ",(0,d.mdx)("inlineCode",{parentName:"p"},"POST /v3/customers/<customer-id>/subscriptions")," endpoint to create new subscriptions."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Endpoint"),(0,d.mdx)("th",{parentName:"tr",align:null},"Method"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"/v3/customers/<customer-id>/subscriptions")),(0,d.mdx)("td",{parentName:"tr",align:null},"POST")))),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Note:")," Adobe Commerce Partner APIs do not allow creating subscriptions for consumable items, including Adobe Stock credit packs and Adobe Sign transactions."),(0,d.mdx)("h2",{id:"usage-instructions"},"Usage instructions"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("p",{parentName:"li"},"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"Enabled")," flag can only be set to ",(0,d.mdx)("inlineCode",{parentName:"p"},"true"))),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("p",{parentName:"li"},"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"renewalQuantity")," field is mandatory for the subscription creation")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("p",{parentName:"li"},"Creation of subscription is allowed only when a customer intends to add a product (that they are not currently subscribed to) during the next auto-renewal.")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("p",{parentName:"li"},"Discount level is calculated and applied on the anniversary date with Renewal order. The subscription becomes active with success renewal.")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("p",{parentName:"li"},"Customers with no active subscriptions are not allowed to create subscription")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("p",{parentName:"li"},"Eligibility checks are evaluated while accepting the create request")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("p",{parentName:"li"},"Creating a subscription is allowed only during current date is between 30 days prior to anniversary date to 3 days prior to anniversary date.")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("p",{parentName:"li"},"Global customers can create subscriptions. To do so, they need to include the ",(0,d.mdx)("inlineCode",{parentName:"p"},"currencyCode")," in their request. For subscriptions outside the customer’s home country, both ",(0,d.mdx)("inlineCode",{parentName:"p"},"currencyCode")," and ",(0,d.mdx)("inlineCode",{parentName:"p"},"deploymentID")," must be included in the request.")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("p",{parentName:"li"},"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"flexDiscountCodes")," parameter indicates the flexible discounts applicable for the subscription. For more information, see ",(0,d.mdx)("a",{parentName:"p",href:"../flex_discounts/apis.md"},"Manage Flexible Discounts using APIs"),"."))),(0,d.mdx)("h2",{id:"request-header"},"Request header"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Parameter"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"X-Request-Id"),(0,d.mdx)("td",{parentName:"tr",align:null},"A unique identifier for the call. The value should be reset for every single request. If this is not provided, then a request ID will be automatically generated. Using a duplicate request ID may return an error.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"X-Correlation-Id"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"td"},"Required"),". A unique identifier for the call. This is to ensure idempotency. In the case of a timeout, the retry call could include the same value. Upon receiving some response, the value should be reset for the next call.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Accept"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"td"},"Required"),'. Specifies the response type. Must be "application/json" for proper usage.')),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Content-Type"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"td"},"Required"),'. Specifies the request type. Must be "application/json" for proper usage.')),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Authorization"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"td"},"Required"),". Authorization token in the form ",(0,d.mdx)("inlineCode",{parentName:"td"},"Bearer <token>"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"X-Api-Key"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"td"},"Required"),". The API Key for your integration")))),(0,d.mdx)("h2",{id:"request-body"},"Request body"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "offerId": "65304470CA01012",\n  "autoRenewal": {\n    "enabled": true,\n    "renewalQuantity": 100,\n    "renewalCode": "MOQ_100",\n    "flexDiscountCodes": ["ABCD-XV54-HG34-78YT"]\n  }\n}\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Note:")," The ",(0,d.mdx)("inlineCode",{parentName:"p"},"renewalCode")," parameter indicates the the Minimum Order Quantity Offer. For more information, see ",(0,d.mdx)("a",{parentName:"p",href:"../customer_account/high_growth_apis.md"},"Manage High Growth Offers through APIs"),"."),(0,d.mdx)("p",null,"For global customers to create subscriptions outside the customer’s home country, both ",(0,d.mdx)("inlineCode",{parentName:"p"},"currencyCode")," and ",(0,d.mdx)("inlineCode",{parentName:"p"},"deploymentID")," must be included in the request, as illustrated in the following example:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "offerId": "65304481CA01A12",\n    "autoRenewal": {\n        "enabled": true,\n        "renewalQuantity": 20,\n        "renewalCode": "MOQ_100", \n        "flexDiscountCodes": ["ABCD-XV54-HG34-78YT"]\n    },\n    "deploymentId": "PR1400001758",\n    "currencyCode": "JPY"\n}\n')),(0,d.mdx)("h2",{id:"response-body"},"Response body"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "subscriptionId": "bb9daad8bc4354a4b38006b75704ceNA",\n  "offerId": "65304470CA01012",\n  "currentQuantity": 0,\n  "autoRenewal": {\n    "enabled": true,\n    "renewalQuantity": 100,\n    "renewalCode": "MOQ_100", \n    "flexDiscountCodes": ["ABCD-XV54-HG34-78YT"]\n  },\n  "creationDate": "2024-07-11T02:42:15Z",\n  "renewalDate": "2025-04-25",\n  "status": "1009",\n  "links": {\n    "self": {\n      "uri": "/v3/customers/P1005053489/subscriptions/bb9daad8bc4354a4b38006b75704ceNA",\n      "method": "GET",\n      "headers": []\n    }\n  }\n}\n')),(0,d.mdx)("h2",{id:"http-status-codes"},"HTTP status codes"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Status code"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"200"),(0,d.mdx)("td",{parentName:"tr",align:null},"AutoRenewal updated")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"400"),(0,d.mdx)("td",{parentName:"tr",align:null},"Bad request")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"401"),(0,d.mdx)("td",{parentName:"tr",align:null},"Invalid Authorization token")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"403"),(0,d.mdx)("td",{parentName:"tr",align:null},"Invalid API Key")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"404"),(0,d.mdx)("td",{parentName:"tr",align:null},"Invalid customer ID")))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-docs-subscription-management-create-subscription-md-5daba2a0c015a6cdfc67.js.map
"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[8422],{17742:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return o},default:function(){return p}});var a=n(87462),r=n(45987),d=(n(35776),n(3905)),m=n(91515);const l=["components"],o={},i={_frontmatter:o},s=m.Z;function p(e){let{components:t}=e,n=(0,r.Z)(e,l);return(0,d.mdx)(s,(0,a.Z)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"manage-recommendations-using-apis"},"Manage Recommendations using APIs"),(0,d.mdx)("p",null,"You can use the following APIs to provide in-context recommendations to your customer:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"#fetch-recommendations"},"Fetch Recommendations")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"#preview-order"},"Preview Order")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"#preview-order-renewal"},"Preview Order Renewal")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"#get-subscription"},"Get Subscriptions")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"#get-order"},"Get Order"))),(0,d.mdx)("h2",{id:"fetch-recommendations"},"Fetch Recommendations"),(0,d.mdx)("p",null,"Use the ",(0,d.mdx)("inlineCode",{parentName:"p"},"Fetch Recommendations")," API call with appropriate query parameters to retrieve the relevant recommendations:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Endpoint")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Method")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"/recommendations"),(0,d.mdx)("td",{parentName:"tr",align:null},"POST")))),(0,d.mdx)("h3",{id:"request-header"},"Request Header"),(0,d.mdx)("p",null,"See ",(0,d.mdx)("a",{parentName:"p",href:"../references/api_headers.md"},"Headers section"),"."),(0,d.mdx)("h3",{id:"request-body"},"Request Body"),(0,d.mdx)("p",null,"Here’s the sample request body:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "recommendationContext": "RENEWAL_ORDER_PREVIEW, GENERIC, ORDERS_VIEW",\n  "customerId": "<CustomerId>",\n  "offers": [\n    {\n      "offerId": "30005897CA01A12",\n      "quantity": 10\n    },\n    {\n      "offerId": "30006566CA14A12",\n      "quantity": 5\n    }\n  ],\n  "country": "JP",\n}\n')),(0,d.mdx)("h4",{id:"request-parameters"},"Request parameters"),(0,d.mdx)("p",null,"The following table lists the request parameters and their corresponding descriptions:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Parameter"),(0,d.mdx)("th",{parentName:"tr",align:null},"Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"),(0,d.mdx)("th",{parentName:"tr",align:null},"Is mandatory?"),(0,d.mdx)("th",{parentName:"tr",align:null},"Range/Limits"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"recommendationContext"),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The context in which recommendations are being requested. ",(0,d.mdx)("br",null)," Values: ",(0,d.mdx)("br",null)," - ",(0,d.mdx)("strong",{parentName:"td"},"GENERIC"),": Fetches recommendations without any primary context, using all available information about a customer.",(0,d.mdx)("br",null)," - ",(0,d.mdx)("strong",{parentName:"td"},"ORDER_PREVIEW"),": Fetches recommendations based on the products in the cart.",(0,d.mdx)("br",null)," - ",(0,d.mdx)("strong",{parentName:"td"},"RENEWAL_ORDER_PREVIEW"),":  For AutoRenewal, it fetches recommendations based on Subscription Renewal preference. For ManualRenewal, it fetches the same recommendations as the ",(0,d.mdx)("strong",{parentName:"td"},"ORDER_PREVIEW")," context. ",(0,d.mdx)("br",null)," ",(0,d.mdx)("br",null)),(0,d.mdx)("td",{parentName:"tr",align:null},"No ",(0,d.mdx)("br",null)," ",(0,d.mdx)("br",null)," The default value is ",(0,d.mdx)("strong",{parentName:"td"},"GENERIC"),"."),(0,d.mdx)("td",{parentName:"tr",align:null},"Max 40 characters")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"customerId"),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"Unique identifier for the customer for whom recommendations are being requested. This is a mandatory parameter."),(0,d.mdx)("td",{parentName:"tr",align:null},"Yes"),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"offers"),(0,d.mdx)("td",{parentName:"tr",align:null},"Object"),(0,d.mdx)("td",{parentName:"tr",align:null},"List of offers for which recommendations are being fetched."),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"country"),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"Requested country for which recommendations should be fetched. If not provided, the customer's country will be used. See ",(0,d.mdx)("a",{parentName:"td",href:"../references/supported_locales.md"},"available country codes"),"."),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"recommendationType"),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"Entity type for which recommendations are being requested. ",(0,d.mdx)("br",null),(0,d.mdx)("br",null)," ",(0,d.mdx)("strong",{parentName:"td"},"Note"),": Currently, only the product recommendations are supported."),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null})))),(0,d.mdx)("h5",{id:"offers-object"},"Offers object"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Parameter"),(0,d.mdx)("th",{parentName:"tr",align:null},"Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"),(0,d.mdx)("th",{parentName:"tr",align:null},"Is mandatory?"),(0,d.mdx)("th",{parentName:"tr",align:null},"Range/Limits"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"offerId"),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"Unique identifier for the offer (Part Number)."),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"quantity"),(0,d.mdx)("td",{parentName:"tr",align:null},"Integer"),(0,d.mdx)("td",{parentName:"tr",align:null},"Number of units of products in the cart."),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null})))),(0,d.mdx)("h2",{id:"response"},"Response"),(0,d.mdx)("h3",{id:"response-header"},"Response Header"),(0,d.mdx)("p",null,"The following response header, added to all responses, provides data to understand how recommendations are working: ",(0,d.mdx)("inlineCode",{parentName:"p"},"x-recommendation-tracker-id: <Some String identifier>"),". For more information, see ",(0,d.mdx)("a",{parentName:"p",href:"#provide-tracking-data-to-adobe-to-get-improved-recommendations"},"Provide recommendation tracking data to Adobe to improve future recommendations"),"."),(0,d.mdx)("h3",{id:"response-body"},"Response Body"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "productRecommendations": {\n    "upsells": [\n      {\n        "rank": 0,\n        "product": {\n          "id": "30006208",\n          "baseOfferId": "30006208CA01A12"\n        },\n        "source": {\n          "sourceType": "OFFER",\n          "offerIds": [\n            "30005702CA01A12"\n          ]\n        },\n      },\n      {\n        "rank": 1,\n        "product": {\n          "id": "65304921",\n          "baseOfferId": "65304921CA01A12"\n        },\n        "source": {\n          "sourceType": "OFFER",\n          "offerIds": [\n            "30005702CA01A12"\n          ],\n          "subscriptionIds": []\n        },\n      }\n    ],\n    "crossSells": [\n      {\n        "rank": 0,\n        "product": {\n          "id": "30006208",\n          "baseOfferId": "30006208CA01A12"\n        },\n        "source": {\n          "sourceType": "OFFER",\n          "offerIds": [\n            "30005702CA01A12"\n          ]\n        },\n      }\n    ],\n    "addOns": [\n      {\n        "rank": 0,\n        "product": {\n          "id": "65304921",\n          "baseOfferId": "65304921CA01A12"\n        },\n        "source": {\n          "sourceType": "OFFER",\n          "offerIds": [\n            "30005702CA01A12"\n          ],\n          "subscriptionIds": []\n        },\n        "benefits": "",\n        "tags": []\n      }\n    ]\n  }\n}\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response parameters")),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Parameter")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Type")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Description")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Range/Limits")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"productRecommendations"),(0,d.mdx)("td",{parentName:"tr",align:null},"Object"),(0,d.mdx)("td",{parentName:"tr",align:null},"Contains different categories of recommended products."),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"upsells"),(0,d.mdx)("td",{parentName:"tr",align:null},"Array of Recommendations"),(0,d.mdx)("td",{parentName:"tr",align:null},"List of recommended products that offer more value by providing a higher-tier, premium, or enhanced version of the selected product or offer. Example: Adobe Photoshop to Adobe Creative Cloud All Apps"),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"crossSells"),(0,d.mdx)("td",{parentName:"tr",align:null},"Array of Recommendations"),(0,d.mdx)("td",{parentName:"tr",align:null},"List of recommended products that complement the selected product by offering additional functionality or benefits. Example: Adobe Stock to Adobe Photoshop"),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"addOns"),(0,d.mdx)("td",{parentName:"tr",align:null},"Array of Recommendations"),(0,d.mdx)("td",{parentName:"tr",align:null},"List of recommended products to extend or enhance the functionality of a base product. These products are not standalone and must be used in conjunction with the base product. Example: AI Assistant for Adobe Acrobat"),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"rank"),(0,d.mdx)("td",{parentName:"tr",align:null},"Integer"),(0,d.mdx)("td",{parentName:"tr",align:null},"The ranking position of the recommended product within its category."),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"product"),(0,d.mdx)("td",{parentName:"tr",align:null},"Object"),(0,d.mdx)("td",{parentName:"tr",align:null},"Details about the recommended product."),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"id"),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"Unique identifier for the recommended product."),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"baseOfferId"),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The base offer ID associated with the product."),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"source"),(0,d.mdx)("td",{parentName:"tr",align:null},"Object"),(0,d.mdx)("td",{parentName:"tr",align:null},"Indicates the source of the recommendation."),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"sourceType"),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"Specifies the type of the source entity. Currently only OFFER is supported."),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"offerIds"),(0,d.mdx)("td",{parentName:"tr",align:null},"String Array"),(0,d.mdx)("td",{parentName:"tr",align:null},"List of offer IDs that contributed to this recommendation."),(0,d.mdx)("td",{parentName:"tr",align:null})),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"subscriptionIds"),(0,d.mdx)("td",{parentName:"tr",align:null},"String Array"),(0,d.mdx)("td",{parentName:"tr",align:null},"List of subscription IDs that contributed to this recommendation (if applicable)."),(0,d.mdx)("td",{parentName:"tr",align:null})))),(0,d.mdx)("h3",{id:"http-status-codes"},"HTTP Status Codes"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Status Code")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Description")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"200"),(0,d.mdx)("td",{parentName:"tr",align:null},"Successfully fetched recommendations")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"400"),(0,d.mdx)("td",{parentName:"tr",align:null},"Bad request")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"401"),(0,d.mdx)("td",{parentName:"tr",align:null},"Invalid Authorization token")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"403"),(0,d.mdx)("td",{parentName:"tr",align:null},"Invalid API Key")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"429"),(0,d.mdx)("td",{parentName:"tr",align:null},"Too Many Requests")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"500"),(0,d.mdx)("td",{parentName:"tr",align:null},"Internal Server Error")))),(0,d.mdx)("h2",{id:"preview-order"},"Preview Order"),(0,d.mdx)("p",null,"Use the ",(0,d.mdx)("inlineCode",{parentName:"p"},"Preview Order API")," to get the recommendations to display while previewing the order."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Endpoint")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Method")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"/v3/customers/<customerId>/orders")),(0,d.mdx)("td",{parentName:"tr",align:null},"POST")))),(0,d.mdx)("h3",{id:"query-parameters"},"Query parameters"),(0,d.mdx)("p",null,"You can use the following query parameters as shown in this request URL: ",(0,d.mdx)("inlineCode",{parentName:"p"},"POST <cpapi-host>/v3/customers/<customerId>/orders?fetch_recommendations=true&recommendation_country=US")),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Parameter Name")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Parameter Value")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Is it Mandatory?")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Default Value")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"fetch_recommendations"),(0,d.mdx)("td",{parentName:"tr",align:null},"- true ",(0,d.mdx)("br",null)," - false"),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null},"false")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"recommendation_country"),(0,d.mdx)("td",{parentName:"tr",align:null},"US, GB, and so on"),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null},"<Customer's country>")))),(0,d.mdx)("h3",{id:"request-header-1"},"Request header"),(0,d.mdx)("p",null,"See ",(0,d.mdx)("a",{parentName:"p",href:"../references/api_headers.md"},"Headers section"),"."),(0,d.mdx)("h3",{id:"request-body-1"},"Request body"),(0,d.mdx)("p",null,"No change to the standard request payload. For example:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "externalReferenceId": "{{externalReferenceId}}",\n  "orderType": "PREVIEW",\n  "currencyCode": "USD",\n  "lineItems": [\n    {\n      "extLineItemNumber": 1,\n      "offerId": "65304479CA03A12",\n      "quantity": 20,\n      "currencyCode": "USD",\n      "deploymentId": "12345"\n    }\n  ]\n}\n')),(0,d.mdx)("h3",{id:"response-1"},"Response"),(0,d.mdx)("p",null,"Response header: ",(0,d.mdx)("inlineCode",{parentName:"p"},"x-recommendation-tracker-id: <Some String identifier>")),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response body:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{ \n   "externalReferenceId": "9ddd98ba-2361-41c9-ae21-7feb04bf9cd", \n   "orderId": "ABCDORDER1", \n   "customerId": "1005513019", \n   "...": "..." \n   "lineItems":[ \n      { \n         "extLineItemNumber":1, \n         "...": "..." \n      } \n   ], \n   "creationDate":"2025-02-18T13:02:50Z" \n    "recommendations": { \n      "productRecommendations": { \n          "upsells": [...], \n          "crossSells": [...], \n          "addOns": [...] \n      } \n   } \n}\n')),(0,d.mdx)("h4",{id:"http-status-code"},"HTTP Status Code"),(0,d.mdx)("p",null,"No change from the standard ",(0,d.mdx)("a",{parentName:"p",href:"../order_management/order_scenarios.md"},"Preview Order API"),"."),(0,d.mdx)("h2",{id:"preview-order-renewal"},"Preview Order Renewal"),(0,d.mdx)("p",null,"Use the ",(0,d.mdx)("inlineCode",{parentName:"p"},"Preview Renewal")," API call with appropriate query parameters to fetch relevant recommendations:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Endpoint")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Method")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"v3/customers/<customerId>/orders")),(0,d.mdx)("td",{parentName:"tr",align:null},"POST")))),(0,d.mdx)("h3",{id:"query-parameters-1"},"Query Parameters"),(0,d.mdx)("p",null,"You can use the following query parameters as shown in this request URL: ",(0,d.mdx)("inlineCode",{parentName:"p"},"POST <cpapi-host>/v3/customers/<customerId>/orders?fetch_recommendations=true&recommendation_country=US")),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Parameter Name")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Parameter Value")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Is it Mandatory?")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Default Value")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"fetch_recommendations"),(0,d.mdx)("td",{parentName:"tr",align:null},"- true ",(0,d.mdx)("br",null)," - false"),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null},"false")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"recommendation_country"),(0,d.mdx)("td",{parentName:"tr",align:null},"US, GB, and so on"),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null},"<Customer's country>")))),(0,d.mdx)("h3",{id:"request-header-2"},"Request header"),(0,d.mdx)("p",null,"See ",(0,d.mdx)("a",{parentName:"p",href:"../references/api_headers.md"},"Headers section"),"."),(0,d.mdx)("h3",{id:"request-body-2"},"Request body"),(0,d.mdx)("p",null,"No change to the standard request body. For example:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "externalReferenceId": "{{externalReferenceId}}",\n    "referenceOrderId": "{{orderId}}",\n    "orderType": "PREVIEW_RENEWAL",\n    "currencyCode": "USD"\n}\n')),(0,d.mdx)("h3",{id:"response-2"},"Response"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "externalReferenceId": "9ddd98ba-2361-41c9-ae21-7feb04bf9cd",\n    "orderId": "",\n    "lineItems": [\n        {\n            "extLineItemNumber": 1,\n            "...": "..."\n        }\n    ],\n    "eligibleOffers": [\n        {\n            "offerId": "65324918CA01V12",\n            "discountCode": "CA01V12",\n            "quantity": 25,\n            "eligibleCustomer": "ALL"\n        },\n        {\n            "": ""\n        }\n    ],\n    "creationDate": "2025-02-18T13:02:50Z",\n    "recommendations": {\n        "productRecommendations": {\n            "upsells": [...],\n            "crossSells": [...],\n            "addOns": [...]\n        }\n    }\n}\n')),(0,d.mdx)("h3",{id:"http-status-code-1"},"HTTP Status Code"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Status Code")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Description")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"202"),(0,d.mdx)("td",{parentName:"tr",align:null},"Order accepted")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"400"),(0,d.mdx)("td",{parentName:"tr",align:null},"Bad request")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"401"),(0,d.mdx)("td",{parentName:"tr",align:null},"Invalid Authorization token")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"403"),(0,d.mdx)("td",{parentName:"tr",align:null},"Invalid API Key")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"404"),(0,d.mdx)("td",{parentName:"tr",align:null},"Invalid Customer ID")))),(0,d.mdx)("h2",{id:"get-subscription"},"Get Subscription"),(0,d.mdx)("p",null,"Use the ",(0,d.mdx)("inlineCode",{parentName:"p"},"GET Subscriptions")," API call with appropriate query parameters to fetch relevant recommendations:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Endpoint")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Method")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"/v3/customers/<customerId>/subscriptions")),(0,d.mdx)("td",{parentName:"tr",align:null},"GET")))),(0,d.mdx)("h3",{id:"query-parameters-2"},"Query Parameters"),(0,d.mdx)("p",null,"You can use the following query parameters as shown in this request URL: ",(0,d.mdx)("inlineCode",{parentName:"p"},"POST <cpapi-host>/v3/customers/<customerId>/subscriptions?fetch_recommendations=true&recommendation_country=US")),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Parameter Name")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Parameter Value")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Is it Mandatory?")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Default Value")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"fetch_recommendations"),(0,d.mdx)("td",{parentName:"tr",align:null},"- true ",(0,d.mdx)("br",null)," - false"),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null},"false")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"recommendation_country"),(0,d.mdx)("td",{parentName:"tr",align:null},"US, GB, and so on"),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null},"<Customer's country>")))),(0,d.mdx)("h3",{id:"request-header-3"},"Request header"),(0,d.mdx)("p",null,"See ",(0,d.mdx)("a",{parentName:"p",href:"../references/api_headers.md"},"Headers section"),"."),(0,d.mdx)("h3",{id:"request-body-3"},"Request body"),(0,d.mdx)("p",null,"None."),(0,d.mdx)("h3",{id:"response-3"},"Response"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "totalCount": 2,\n    "items": [\n        {\n            "subscriptionId": "d76634e0c34cb2bb1057380b998cd2NA",\n            "offerId": "65322587CA01A12",\n            "currentQuantity": 5009,\n            "usedQuantity": 0,\n            "autoRenewal": {\n                "enabled": true,\n                "renewalQuantity": 5009\n            },\n            "creationDate": "2024-07-17T01:13:09Z",\n            "renewalDate": "2025-07-17",\n            "status": "1000",\n            "currencyCode": "USD",\n            "links": {\n                "self": {\n                    "uri": "/v3/customers/1005513019/subscriptions/d76634e0c34cb2bb1057380b998cd2NA",\n                    "method": "GET",\n                    "headers": []\n                }\n            }\n        },\n        {\n            "subscriptionId": "da5410d3114d38b9ab6149fdb1f120NA",\n            "offerId": "65304479CA01A12",\n            "currentQuantity": 60,\n            "usedQuantity": 0,\n            "autoRenewal": {\n                "enabled": true,\n                "renewalQuantity": 60\n            },\n            "creationDate": "2025-01-07T19:25:46Z",\n            "renewalDate": "2025-07-17",\n            "status": "1000",\n            "currencyCode": "USD",\n            "links": {\n                "self": {\n                    "uri": "/v3/customers/1005513019/subscriptions/da5410d3114d38b9ab6149fdb1f120NA",\n                    "method": "GET",\n                    "headers": []\n                }\n            }\n        }\n    ],\n    "links": {\n        "self": {\n            "uri": "/v3/customers/1005513019/subscriptions",\n            "method": "GET",\n            "headers": []\n        }\n    },\n    "recommendations": {\n        "productRecommendations": {\n            "upsells": [...],\n            "crossSells": [...],\n            "addOns": [...]\n        }\n    }\n}\n')),(0,d.mdx)("h4",{id:"http-status-code-2"},"HTTP Status Code"),(0,d.mdx)("p",null,"Same as the standard GET Subscriptions API."),(0,d.mdx)("h2",{id:"get-order"},"Get Order"),(0,d.mdx)("p",null,"Use the ",(0,d.mdx)("inlineCode",{parentName:"p"},"GET Order API")," call with appropriate query parameters to fetch relevant recommendations:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Endpoint")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Method")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"/v3/customers/<customerId>/orders")),(0,d.mdx)("td",{parentName:"tr",align:null},"POST")))),(0,d.mdx)("h3",{id:"query-parameters-3"},"Query Parameters"),(0,d.mdx)("p",null,"You can use the following query parameters as shown in this request URL: ",(0,d.mdx)("inlineCode",{parentName:"p"},"POST <cpapi-host>/v3/customers/<customerId>/orders?fetch_recommendations=true&recommendation_country=US")),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Parameter Name")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Parameter Value")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Is it Mandatory?")),(0,d.mdx)("th",{parentName:"tr",align:null},(0,d.mdx)("strong",{parentName:"th"},"Default Value")))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"fetch_recommendations"),(0,d.mdx)("td",{parentName:"tr",align:null},"- true ",(0,d.mdx)("br",null)," - false"),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null},"false")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"recommendation_country"),(0,d.mdx)("td",{parentName:"tr",align:null},"US, GB, and so on"),(0,d.mdx)("td",{parentName:"tr",align:null},"No"),(0,d.mdx)("td",{parentName:"tr",align:null},"<Customer's country>")))),(0,d.mdx)("h4",{id:"request-header-4"},"Request header"),(0,d.mdx)("p",null,"See ",(0,d.mdx)("a",{parentName:"p",href:"../references/api_headers.md"},"Headers section"),"."),(0,d.mdx)("h4",{id:"request-body-4"},"Request body"),(0,d.mdx)("p",null,"None."),(0,d.mdx)("h3",{id:"response-4"},"Response"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n   "totalCount":2,\n   "count":2,\n   "offset":0,\n   "limit":25,\n   "items":[\n      {\n         "referenceOrderId":"",\n         "externalReferenceId":"240505012402240931",\n         "orderId":"9203400470",\n         "customerId":"1005513019",\n         "currencyCode":"USD",\n         "orderType":"NEW",\n         "status":"1000",\n         "lineItems":[\n            {\n               "extLineItemNumber":1,\n               "offerId":"65322587CA12A12",\n               "quantity":5000,\n               "subscriptionId":"d76634e0c34cb2bb1057380b998cd2NA",\n               "status":"1000"\n            },\n            {\n               "extLineItemNumber":2,\n               "offerId":"65322474CATAA12",\n               "quantity":5000,\n               "subscriptionId":"73d39c59a04e0f8f93fc5449e63721NA",\n               "status":"1000"\n            }\n         ],\n         "creationDate":"2024-07-18T12:32:33Z",\n         "links":{\n            "self":{\n               "uri":"/v3/customers/1005513019/orders/9203400470",\n               "method":"GET",\n               "headers":[\n                   \n               ]\n            }\n         }\n      },\n      {\n         "referenceOrderId":"",\n         "externalReferenceId":"240717011236827259",\n         "orderId":"9203398779",\n         "customerId":"1005513019",\n         "currencyCode":"USD",\n         "orderType":"NEW",\n         "status":"1000",\n         "lineItems":[\n            {\n               "extLineItemNumber":1,\n               "offerId":"65322651CA01A12",\n               "quantity":9,\n               "subscriptionId":"023b7bb4774e6fa0f597e25624b7f2NA",\n               "status":"1000"\n            },\n            {\n               "extLineItemNumber":2,\n               "offerId":"65322587CA01A12",\n               "quantity":9,\n               "subscriptionId":"d76634e0c34cb2bb1057380b998cd2NA",\n               "status":"1000"\n            }\n         ],\n         "creationDate":"2024-07-17T01:12:39Z",\n         "links":{\n            "self":{\n               "uri":"/v3/customers/1005513019/orders/9203398779",\n               "method":"GET",\n               "headers":[\n                   \n               ]\n            }\n         }\n      }\n   ],\n   "links":{\n      "self":{\n         "uri":"/v3/customers/1005513019/orders?status=1000&start-date=2024-01-01T03%253A43%253A07Z&end-date=2025-01-31T00%253A00%253A00Z&limit=25&offset=0",\n         "method":"GET",\n         "headers":[\n             \n         ]\n      }\n   } \n   "recommendations": {\n      "productRecommendations": {\n          "upsells": [...],\n          "crossSells": [...],\n          "addOns": [...]\n      }\n   }\n}\n')),(0,d.mdx)("h3",{id:"http-status-codes-1"},"HTTP Status Codes"),(0,d.mdx)("p",null,"Same as the standard ",(0,d.mdx)("a",{parentName:"p",href:"../order_management/get_order.md"},"GET Order API"),"."),(0,d.mdx)("h2",{id:"provide-tracking-data-to-adobe-to-get-improved-recommendations"},"Provide tracking data to Adobe to get improved recommendations"),(0,d.mdx)("p",null,"The following response header that is added to all responses provides data to understand how recommendations are working: ",(0,d.mdx)("inlineCode",{parentName:"p"},"x-recommendation-tracker-id: <Some String identifier>"),"."),(0,d.mdx)("p",null,"Adobe can get more insight and provide better recommendations based on the data collected from the tracker. Partners need to send the ",(0,d.mdx)("inlineCode",{parentName:"p"},"x-recommendation-tracker-id")," as a header in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"Create Order")," and ",(0,d.mdx)("inlineCode",{parentName:"p"},"Create Subscription")," APIs. A sample CURL command for ",(0,d.mdx)("inlineCode",{parentName:"p"},"Create Order API")," with tracker ID in the header is as follows:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'curl --location \'https: //partners-stage.adobe.io/v3/customers/1005513019/orders\' \\\n--header \'.... Existing headers ....\' \\\n--header \'x-recommendation-tracker-id: 85v9S4NAv2eLKmJ11LY7yxDwGrIvU94S\' \\\n--data \'{\n"externalReferenceId": "6a6023e0-7b11-470a-8444-be3d0099639",\n"orderType": "NEW",\n"currencyCode": "USD",\n"lineItems": [\n{\n"extLineItemNumber": 1,\n"offerId": "65304479CA01A12",\n"quantity": 20\n}\n]\n}\'\n')))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-docs-recommendations-apis-md-a2e080bf2e70d56db2c5.js.map
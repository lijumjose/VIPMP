"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[3104],{88209:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return o},default:function(){return u}});var a=n(87462),i=n(45987),r=(n(35776),n(3905)),d=n(91515);const l=["components"],o={},m={_frontmatter:o},s=d.Z;function u(e){let{components:t}=e,n=(0,i.Z)(e,l);return(0,r.mdx)(s,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"update-subscription"},"Update subscription"),(0,r.mdx)("p",null,"You can modify the auto-renewal configuration and add a flexible discount to the subscription by using the ",(0,r.mdx)("inlineCode",{parentName:"p"},"PATCH /v3/customers/<customer-id>/subscriptions/<subscription-id>")," endpoint."),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Endpoint"),(0,r.mdx)("th",{parentName:"tr",align:null},"Method"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"/v3/customers/<customer-id>/subscriptions/<subscription-id>")),(0,r.mdx)("td",{parentName:"tr",align:null},"PATCH")))),(0,r.mdx)("h2",{id:"usage-instructions"},"Usage instructions"),(0,r.mdx)("p",null,"Ensure that you are aware of the following before updating the auto-renewal configuration:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"autoRenewal")," preferences can only be updated for an active subscription.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"autoRenewal")," object is only evaluated at the renewal time, which is defined in the ",(0,r.mdx)("inlineCode",{parentName:"p"},"cotermDate")," parameter.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"If the ",(0,r.mdx)("inlineCode",{parentName:"p"},"renewalQuantity")," is higher than ",(0,r.mdx)("inlineCode",{parentName:"p"},"currentQuantity")," at the renewal time, then the additional licenses will be included in renewal. If it is lower, then licenses will be removed at renewal.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"flexDiscountCodes")," parameter indicates the flexible discounts applicable for the subscription. For more information, see ",(0,r.mdx)("a",{parentName:"p",href:"#update-a-subscription-with-flexible-discount-code"},"Update a subscription with flexible discount codes")," and ",(0,r.mdx)("a",{parentName:"p",href:"#remove-a-flexible-discount-from-a-subscription"},"Remove flexible discount from a subscription"),".")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"The following three states are possible for autorenewal:"),(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},"Disabled"),(0,r.mdx)("br",null)," You can achieve this by setting `enabled` to `false`."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},"Enabled with renewal quantity")," ",(0,r.mdx)("br",null),"If the ",(0,r.mdx)("inlineCode",{parentName:"li"},"renewalQuantity")," has been explicitly set, the ",(0,r.mdx)("inlineCode",{parentName:"li"},"renewalQuantity")," will remain unchanged by additional orders or cancellations until subscription becomes inactive."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},"Enabled without explicit renewal quantity")," ",(0,r.mdx)("br",null),"In this case, all active licenses in the subscription will be renewed. The ",(0,r.mdx)("inlineCode",{parentName:"li"},"renewalQuantity")," will still be returned with the number of purchased licenses.")))),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Restrictions:")),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},"Maximum renewalQuantity:"),(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},"10,000 for Team products"),(0,r.mdx)("li",{parentName:"ul"},"200,000 for Enterprise products (not supported yet)")))),(0,r.mdx)("h2",{id:"request-header"},"Request header"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Parameter"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"X-Request-Id"),(0,r.mdx)("td",{parentName:"tr",align:null},"A unique identifier for the call. The value should be reset for every single request. If this is not provided, then a request ID will be automatically generated. Using a duplicate request ID may return an error.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"X-Correlation-Id"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("strong",{parentName:"td"},"Required"),". A unique identifier for the call. This is to ensure idempotency. In the case of a timeout, the retry call could include the same value. Upon receiving some response, the value should be reset for the next call.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Accept"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("strong",{parentName:"td"},"Required"),'. Specifies the response type. Must be "application/json" for proper usage.')),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Content-Type"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("strong",{parentName:"td"},"Required"),'. Specifies the request type. Must be "application/json" for proper usage.')),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Authorization"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("strong",{parentName:"td"},"Required"),". Authorization token in the form ",(0,r.mdx)("inlineCode",{parentName:"td"},"Bearer <token>"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"X-Api-Key"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("strong",{parentName:"td"},"Required"),". The API Key for your integration")))),(0,r.mdx)("h2",{id:"request-body"},"Request Body"),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"CompanyProfile")," object with optional ",(0,r.mdx)("inlineCode",{parentName:"p"},"externalReferenceId"),":"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "autoRenewal": {\n    "enabled": true,\n    "renewalQuantity": 7,\n    "flexDiscountCodes": ["ABCD-XV54-HG34-78YT"]\n  }\n}\n')),(0,r.mdx)("h2",{id:"response-body"},"Response body"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "subscriptionId": "cc8efgh8bc4354a4b38006c87804ceNA",\n  "currentQuantity": 0,\n  "offerId": "65304470CA01012",\n \n  "autoRenewal": {\n    "enabled": true,\n    "renewalQuantity": 7,\n    "flexDiscountCodes": ["ABCD-XV54-HG34-78YT"]\n  },\n  "renewalDate": "2026-05-20",\n  "creationDate": "2025-10-20T22:49:55Z",\n  "status": "1009",\n \n  "links": {\n    "self": {\n      "uri": "/v3/customers/P1005053489/subscriptions/cc8efgh8bc4354a4b38006c87804ceNA",\n      "method": "GET",\n      "headers": []\n    }\n  }\n}\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Note:")," Any contacts specified in this call will receive the admin welcome email. This can be resend if an end-user did not receive it."),(0,r.mdx)("h2",{id:"http-status-codes"},"HTTP status codes"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Status code"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"200"),(0,r.mdx)("td",{parentName:"tr",align:null},"AutoRenewal updated")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"400"),(0,r.mdx)("td",{parentName:"tr",align:null},"Bad request")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"401"),(0,r.mdx)("td",{parentName:"tr",align:null},"Invalid Authorization token")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"403"),(0,r.mdx)("td",{parentName:"tr",align:null},"Invalid API Key")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"404"),(0,r.mdx)("td",{parentName:"tr",align:null},"Invalid customer or subscription ID")))),(0,r.mdx)("p",null,"The following sections explain how to modify a subscription with Flexible Discount Codes and High Growth Offers."),(0,r.mdx)("h2",{id:"update-a-subscription-with-flexible-discount-code"},"Update a subscription with flexible discount code"),(0,r.mdx)("p",null,"Use the ",(0,r.mdx)("inlineCode",{parentName:"p"},"PATCH /v3/customers/<customer-id>/subscriptions/<subscription-id>")," API with ",(0,r.mdx)("inlineCode",{parentName:"p"},"flexDiscountCodes")," in the request to update a subscription with the corresponding flexible discount."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Note:")," Flexible discount codes are not validated while updating a subscription. Verification of customer eligibility occurs exclusively through the Preview Renewal API."),(0,r.mdx)("h4",{id:"request"},"Request"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"flexDiscountCodes")," parameter indicates the flexible discounts applicable for the subscription."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "autoRenewal": {\n    "enabled": true, // If Auto Renew is OFF, it must be turned ON to apply PromoCode. If it is already ON, this field is OPTIONAL.\n    "flexDiscountCodes": ["ABCD-XV54-HG34-78YT"]\n  }\n}\n')),(0,r.mdx)("h4",{id:"response"},"Response"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "subscriptionId": "8675309",\n  "currentQuantity": 10,\n  "usedQuantity": 2,\n  "offerId": "65304470CA01012",\n \n  "autoRenewal": {\n    "enabled": true,\n    "renewalQuantity": 5,\n    "flexDiscountCodes": ["ABCD-XV54-HG34-78YT"]\n  },\n  "renewalDate": "2020-05-20",\n  "creationDate": "2019-05-20T22:49:55Z",\n  "deploymentId": "12345",\n  "currencyCode": "USD",\n  "status": "1000",\n \n  "links": {\n    "self": {}\n  }\n}\n')),(0,r.mdx)("h2",{id:"remove-a-flexible-discount-from-a-subscription"},"Remove a flexible discount from a subscription"),(0,r.mdx)("p",null,"Use the ",(0,r.mdx)("inlineCode",{parentName:"p"},"PATCH /v3/customers/<customer-id>/subscriptions/<subscription-id>")," with the query parameter ",(0,r.mdx)("inlineCode",{parentName:"p"},"reset-flex-discount-codes=true")," to remove a flexible discount from a subscription"),(0,r.mdx)("h4",{id:"request-1"},"Request"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},"Request URL:")," ",(0,r.mdx)("inlineCode",{parentName:"li"},"PATCH /v3/customers/<customer-id>/subscriptions/<subscription-id>?reset-flex-discount-codes=true")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},"Request body:")," None.")),(0,r.mdx)("h4",{id:"response-1"},"Response"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "subscriptionId": "8675309",\n  "currentQuantity": 10,\n  "usedQuantity": 2,\n  "offerId": "65304470CA01012",\n \n  "autoRenewal": {\n    "enabled": true,\n    "renewalQuantity": 5\n  },\n  "renewalDate": "2020-05-20",\n  "creationDate": "2019-05-20T22:49:55Z",\n  "deploymentId": "12345",\n  "currencyCode": "USD",\n  "status": "1000",\n \n  "links": {\n    "self": {}\n  }\n}\n')),(0,r.mdx)("h2",{id:"update-a-subscription-with-high-growth-offers"},"Update a subscription with High Growth Offers"),(0,r.mdx)("p",null,"Use the ",(0,r.mdx)("inlineCode",{parentName:"p"},"PATCH /v3/customers/{customer-id}/subscriptions/{sub-id}?reset-renewal-code=false")," API to update the renewal preferences for the customer's subscription with the High Growth Offer details."),(0,r.mdx)("p",null,"For more information, see ",(0,r.mdx)("a",{parentName:"p",href:"../customer_account/high_growth_apis.md"},"Manage High Growth Offer using APIs"),"."))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-docs-subscription-management-update-subscription-md-4656e435e5882dad7e64.js.map